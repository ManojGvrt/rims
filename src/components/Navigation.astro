---
const { base } = Astro;

const navItems = [
  { label: 'Home', href: '/' },
  { label: 'Gallery', href: '/gallery-public' },
  { label: 'Pricing', href: '/pricing' },
];
---

<nav class="fixed top-0 left-0 right-0 z-50 px-4 py-4">
  <div class="max-w-7xl mx-auto flex items-center justify-between">
    <!-- Logo -->
    <a href="/" class="flex items-center space-x-2">
      <img src={`${base}/logo.svg`} alt="RIMS AI" class="h-8 w-auto" />
      <span class="text-white font-bold text-xl">RIMS AI</span>
    </a>

    <!-- Desktop Navigation -->
    <div class="hidden md:flex items-center space-x-8">
      {navItems.map(item => (
        <a 
          href={item.href} 
          class="text-white/70 hover:text-white transition-colors font-medium"
        >
          {item.label}
        </a>
      ))}
      
      <div class="flex items-center space-x-6">
        <a href="/login" class="text-white/70 hover:text-white transition-colors font-medium">
          Log in
        </a>
        <a 
          href="/signup"
          class="px-4 py-2 bg-white text-black font-bold rounded-md border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] hover:translate-x-[2px] hover:translate-y-[2px] hover:shadow-[2px_2px_0px_0px_rgba(0,0,0,1)] transition-all"
        >
          Start Free Trial
        </a>
      </div>
    </div>

    <!-- Mobile Menu Button -->
    <button 
      id="mobile-menu-button" 
      class="md:hidden text-white p-2"
      aria-label="Toggle menu"
    >
      <svg 
        class="w-6 h-6" 
        fill="none" 
        stroke="currentColor" 
        viewBox="0 0 24 24"
      >
        <path 
          stroke-linecap="round" 
          stroke-linejoin="round" 
          stroke-width="2" 
          d="M4 6h16M4 12h16M4 18h16"
        />
      </svg>
    </button>
  </div>

  <!-- Mobile Menu -->
  <div 
    id="mobile-menu" 
    class="hidden md:hidden fixed inset-0 bg-black/95 z-50 pt-24 px-4"
  >
    <div class="flex flex-col items-center space-y-8">
      {navItems.map(item => (
        <a 
          href={item.href} 
          class="text-white/70 hover:text-white transition-colors font-medium text-lg"
        >
          {item.label}
        </a>
      ))}
      <a 
        href="/login" 
        class="text-white/70 hover:text-white transition-colors font-medium text-lg"
      >
        Log in
      </a>
      <a 
        href="/signup"
        class="w-full max-w-xs px-4 py-2 bg-white text-black font-bold rounded-md text-center border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] hover:translate-x-[2px] hover:translate-y-[2px] hover:shadow-[2px_2px_0px_0px_rgba(0,0,0,1)] transition-all"
      >
        Start Free Trial
      </a>
    </div>
  </div>
</nav>

<script>
  const mobileMenuButton = document.getElementById('mobile-menu-button');
  const mobileMenu = document.getElementById('mobile-menu');

  if (mobileMenuButton && mobileMenu) {
    mobileMenuButton.addEventListener('click', () => {
      mobileMenu.classList.toggle('hidden');
    });
  }

  // Close mobile menu when clicking outside
  document.addEventListener('click', (event) => {
    if (mobileMenu && !mobileMenu.classList.contains('hidden')) {
      const isClickInsideMenu = mobileMenu.contains(event.target as Node);
      const isClickOnButton = mobileMenuButton?.contains(event.target as Node);
      
      if (!isClickInsideMenu && !isClickOnButton) {
        mobileMenu.classList.add('hidden');
      }
    }
  });
</script>
